<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Real-Time Salary Meter</title>
		<link
			href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
			rel="stylesheet"
		/>
		<script src="https://cdn.jsdelivr.net/npm/typeit@8.7.1/dist/index.umd.js"></script>
		<style>
			:root {
				--bg-light: #f9fafb;
				--bg-dark: #1f2937;
				--text-light: #1f2937;
				--text-dark: #f9fafb;
				--text-theme: #3b82f6;
			}
			.text-theme {
				color: var(--text-light);
			}

			body.dark .text-theme {
				color: var(--text-dark);
			}

			body.light {
				background-color: var(--bg-light);
				color: var(--text-light);
			}
			body.dark {
				background-color: var(--bg-dark);
				color: var(--text-dark);
			}
			.chat-box {
				max-width: 800px;
				margin: 4rem auto;
				padding: 2rem;
			}
			.message {
				background-color: #e5e7eb;
				padding: 1rem;
				border-radius: 0.5rem;
				margin-bottom: 1rem;
			}
			.input-area {
				background-color: #f3f4f6;
				padding: 1rem;
				border-radius: 0.5rem;
				display: flex;
				gap: 1rem;
				flex-wrap: wrap;
			}
			input,
			button {
				background-color: #ffffff;
				color: #1f2937;
				border: 1px solid #d1d5db;
				padding: 0.5rem 1rem;
				border-radius: 0.375rem;
			}
			button:hover {
				background-color: #e5e7eb;
			}
			header {
				background-color: var(--bg-light);
				color: var(--text-light);
				padding: 1rem 2rem;
				border-bottom: 1px solid #e5e7eb;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			body.dark header {
				background-color: var(--bg-dark);
				color: var(--text-dark);
			}

			nav a {
				margin-left: 1rem;
				color: #3b82f6;
				text-decoration: none;
			}
			nav a:hover {
				text-decoration: underline;
			}

			body.dark nav a {
				color: #f3f4f6;
			}

			footer {
				border-top: 1px solid #e5e7eb;
				padding: 1rem;
				text-align: center;
				font-size: 0.875rem;
			}
		</style>
	</head>
	<body class="light">
		<header>
			<h1 class="text-xl font-bold">Salary Calculator</h1>
			<nav>
				<a href="#calculator">Calculator</a>
				<a href="#how-it-works">How it works</a>
				<a href="#about">About</a>
				<button
					onclick="toggleTheme()"
					class="ml-4 border px-2 py-1 rounded"
				>
					ðŸŒ“
				</button>
			</nav>
		</header>

		<main class="chat-box">
			<section id="calculator">
				<div class="message">
					<div
						id="chat-output"
						class="font-mono text-green-600"
					></div>
					<div
						id="live-counter"
						class="font-mono text-blue-600 mt-2"
					></div>
				</div>
				<div class="input-area">
					<input
						id="income"
						type="number"
						placeholder="Annual Gross Salary (â‚¬)"
						class="flex-1"
					/>
					<input
						id="hours"
						type="number"
						placeholder="Weekly Working Hours"
						class="flex-1"
					/>
					<button onclick="calculate()">Calculate</button>
				</div>
				<p class="mt-4 text-sm text-gray-600 text-center text-theme">
					Formula: per second = income / (hours per week Ã— 52 Ã— 3600)
				</p>
			</section>

			<section id="how-it-works" class="mt-16">
				<h2 class="text-xl font-semibold mb-4 text-theme">
					How It Works
				</h2>
				<p class="text-gray-700 mb-4 text-theme">
					This tool estimates your salary per second by calculating
					your total annual income divided by the number of seconds
					you work in a year.
				</p>
				<p class="text-gray-700 text-theme">
					It's based on the number of hours you work per week,
					multiplied by 52 weeks, and then by 3600 seconds in an hour.
					This gives us the total number of working seconds in a year.
				</p>
			</section>

			<section id="about" class="mt-16">
				<h2 class="text-xl font-semibold mb-4 text-theme">About</h2>
				<p class="text-gray-700 text-theme">
					This project is a minimal and interactive tool inspired by
					ChatGPTâ€™s typing style. It's designed to help you visualize
					how much you're earning in real-time. No data is stored or
					transmitted. All calculations are done in your browser.
				</p>
			</section>
		</main>

		<footer>
			Created by Wessel van den IJssel â€” <span id="year"></span>
		</footer>

		<script>
			let currentInstance;
			let counterInterval;

			function calculate() {
				const income = parseFloat(
					document.getElementById("income").value
				);
				const hours = parseFloat(
					document.getElementById("hours").value
				);
				const chatOutput = document.getElementById("chat-output");
				const liveCounter = document.getElementById("live-counter");

				if (!income || !hours || hours === 0) {
					chatOutput.innerHTML =
						'<span class="text-red-600">Please enter valid numbers.</span>';
					liveCounter.innerHTML = "";
					clearInterval(counterInterval);
					return;
				}

				if (currentInstance) {
					currentInstance.destroy();
				}
				clearInterval(counterInterval);

				const secondsPerYear = hours * 52 * 3600;
				const perSecond = income / secondsPerYear;
				const formatted = perSecond.toFixed(6);

				chatOutput.innerHTML = "";
				liveCounter.innerHTML = "";

				currentInstance = new window.TypeIt("#chat-output", {
					strings: [
						`Calculating your salary per second...`,
						`You earn â‚¬${formatted} per second.`,
					],
					speed: 40,
					lifeLike: true,
					waitUntilVisible: true,
					breakLines: true,
					afterComplete: () => {
						let totalEarned = 0;
						counterInterval = setInterval(() => {
							totalEarned += perSecond;
							liveCounter.textContent = `You've earned â‚¬${totalEarned.toFixed(
								4
							)} since clicking Calculate.`;
						}, 1000);
					},
				}).go();
			}

			window.addEventListener("DOMContentLoaded", () => {
				currentInstance = new window.TypeIt("#chat-output", {
					strings: [
						"Hi there! Let's calculate your salary per second.",
					],
					speed: 40,
					lifeLike: true,
					waitUntilVisible: true,
					afterComplete: () => {
						document.getElementById("income").focus();
					},
				}).go();

				document.getElementById("year").textContent =
					new Date().getFullYear();
			});

			function toggleTheme() {
				const body = document.body;
				body.classList.toggle("dark");
				body.classList.toggle("light");
			}
		</script>
	</body>
</html>
